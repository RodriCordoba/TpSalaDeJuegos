<div class="overlay" *ngIf="juegoTerminado">
  <div class="card text-center shadow-lg">
    <div class="card-body p-5">
      <h2 class="card-title mb-3">¡Juego Terminado!</h2>
      <p class="fs-4 mb-4">{{ mensaje }}</p>
      <div class="carta-resultado mb-4" *ngIf="cartaSiguiente">
        <img [src]="cartaSiguiente.image" alt="Carta final">
      </div>
      <div class="d-grid gap-3">
        <button (click)="iniciarJuego()" class="btn btn-success btn-lg">Jugar de Nuevo</button>
        <button [routerLink]="['/home']" class="btn btn-secondary btn-lg">Volver al Home</button>
      </div>
    </div>
  </div>
</div>

<div class="container text-center py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <h2 class="mb-4">Mayor o Menor</h2>

      <div class="mb-4 d-flex justify-content-center align-items-center" style="min-height: 314px;">
        <div *ngIf="cartaActual; else cargando" class="carta-container">
          <img [src]="cartaActual.image" alt="Carta actual" class="img-fluid shadow-lg">
        </div>
        <ng-template #cargando>
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Cargando...</span>
          </div>
        </ng-template>
      </div>

      <div class="alert alert-info shadow-sm">
        <p class="m-0 fs-5">{{ mensaje }}</p>
        <p class="m-0 fs-3"><strong>Puntaje: {{ puntaje }}</strong></p>
      </div>

      <div class="d-grid gap-3 d-sm-flex justify-content-center mt-4" *ngIf="!juegoTerminado">
        <button (click)="apostar('menor')" class="btn btn-danger btn-lg flex-fill">Menor ▼</button>
        <button (click)="apostar('mayor')" class="btn btn-success btn-lg flex-fill">Mayor ▲</button>
      </div>
    </div>
  </div>
</div>